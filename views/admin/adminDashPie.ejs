<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        .wrapper {
            display: flex;
        }

        #sidebar {
            min-width: 250px;
            background-color: #333;
            padding: 20px;
            color: white;
        }

        #content {
            flex-grow: 1;
            padding: 20px;
        }

        nav img {
            height: 50px; 
        }

        nav button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .container {
            margin-top: 20px; /* Add space between the navigation bar and content */
        }

        .add-product-button {
            margin-bottom: 20px; /* Add space below the "Add Product" button */
        }

        table {
            width: 100%;
            margin-bottom: 20px; /* Add space below the table */
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #4CAF50;
            color: white;
        }

        .navbar {
            position: sticky;
            top: 1;
            z-index: 1000;
            margin-left: -20px;
            margin-right: -20px;
            margin-top: -20px;
        }

        .navbar-brand {
            margin-right: 0; /* Remove default margin for the brand */
        }

        .sidebar-link {
            font-size: 18px; /* Adjust the font size as needed */
            font-weight: bold; /* Optional: Add bold styling */
            /* Add any additional styling properties as needed */
        }

       
        #additionalInfoContainer {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        #additionalInfo {
            background-color: #007bff;
            padding: 15px;
            width: 48%; /* Adjust the width as needed */
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        #additionalInfo2 {
            background-color: #6c757d;
            padding: 15px;
            width: 48%; /* Adjust the width as needed */
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        #additionalInfo p,
        #additionalInfo2 p {
            color: white;
            font-size: 18px;
            margin: 0;
        }

        #additionalInfo span,
        #additionalInfo2 span {
            font-weight: bold;
            font-size: 24px;
        }

        #additionalInfoContainer2 {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            background-color: #28a745; /* Green background color */
            padding: 1px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            margin-left: 300px;
            margin-right: 300px;
        }

        #additionalInfo3 {
            background-color: #28a745; /* Green background color */
            padding: 15px;
            width: 80%; /* Adjust the width as needed */
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        #additionalInfo3 p {
            color: white;
            font-size: 18px;
            margin: 0;
        }

        #additionalInfo3 span {
            font-weight: bold;
            font-size: 24px;
        }
        @import url("https://fonts.googleapis.com/css?family=Open+Sans&display=swap");

:root {
  --succes-color: #2ecc71;
  --error-color: #e74c3c;
}

* {
  box-sizing: border-box;
}

.container {
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
  width: 740px;
  height: 90vh;
}
h1 {
    text-align: center;
    margin: 20px 0;
    color: #565656;
  }
  h3{
    text-align: center;
    margin: 20px 0;
    color: #191515;
  }

  a {
    text-decoration: none;
    color: #2f20d1;
}

a:hover {
    text-decoration: underline;
}

img {
    height: auto;
    max-width: 100%;
    vertical-align: middle;
}

.row {
    padding: 6px 0 6px 0;
}

.label {
    color: #565656;
    margin-bottom: 2px;
}

.card {
    padding: 1rem 2rem;
    border-radius: 4px;
    box-shadow: 0 1px 3px #747681;
}

.message {
    padding: 6px 20px;
    font-size: 1em;
    color: rgb(40, 40, 40);
    box-sizing: border-box;
    margin: 0px;
    border-radius: 3px;
    width: 100%;
    overflow: auto;
}

.error {
    background-color: #fb817c;
    border: 1px solid #e46b66;
}

.success {
    background-color: #48e0a4;
    border: #40cc94 1px solid;
}

.validation-message {
    color: #e20900;
}

.font-bold {
    font-weight: bold;
}

.display-none {
    display: none;
}

.inline-block {
    display: inline-block;
}

.float-right {
    float: right;
}

.float-left {
    float: left;
}

.text-center {
    text-align: center;
}

.text-left {
    text-align: left;
}

.text-right {
    text-align: right;
}

.full-width {
    width: 100%;
}

.cursor-pointer {
    cursor: pointer;
}

.mr-20 {
    margin-right: 20px;
}

.m-20 {
    margin: 20px;
}

.tile-container {
    width: 240px;
    border: #9a9a9a 1px solid;
    border-radius: 3px;
    padding: 10px 20px 10px 20px;
}

@media all and (max-width: 780px) {
    .container {
        width: auto;
    }
}

@media all and (max-width: 400px) {
    .container {
        padding: 0px 20px;
    }
    .tile-container {
        width: auto;
    }
    input, textarea, select {
        width: 100%;
    }
}
    </style>
</head>

<body>

    <div class="wrapper">
        <!-- Sidebar -->
        <%- include('../partials/adminSidebar.ejs', { activePage: 'adminDash' }) %>

        <!-- Page Content -->
        <div id="content">
            <!-- Navbar -->
            <%- include('../partials/adminNavbar.ejs') %>
            <h3>Admin Dashboard</h3>
            <div style="text-align: center; margin: 20px;">
                <label for="chart-select">Choose a chart:</label>
                <select id="chart-select" onchange="goToChart(this.value)">
                    <option value="">Select...</option>
                    <option value="lineChart">Revenue Per Month</option>
                    <option value="pieChart">Category Chart</option>
                    <option value="barChart">User Chart</option>
                    <!-- Add more options as needed -->
                </select>
            </div>
            
           <div class="container">
            <h1>Most purchased categories</h1>
            <div id="pie-chart-container" style="height:80vh; width:100%">
                <canvas id="pie-chart"></canvas>
             </div>
           </div>
           <script src="/public/script/pieChart.js"></script>

            </div>
            </div>

            <script>
                const labels = <%- JSON.stringify(labels) %>;
                const data = <%- JSON.stringify(data) %>;
            
                new Chart(document.getElementById('pie-chart'), {
                    type: 'pie',
                    data: {
                        labels: labels,
                        datasets: [{
                            backgroundColor : [ "#e63946", "#254BDD",
							"#ffbe0b", "#1d3557", "#FF9900","#84FD50","#FF00FF" ],
                            data: data
                        }]
                    },
                    options: {
                        title: {
                            display: true,
                            text: 'Pie Chart for admin panel'
                        },
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            </script>
            <script>
                 function goToChart(chartName) {
                    if (chartName === "pieChart") {
                        // Redirect to the URL of the Pie Chart
                        window.location.href = '/admin/pieChart';
                    } else if (chartName === "lineChart") {
                        // Redirect to the URL of the Bar Chart
                        window.location.href = '/admin/adminDash';
                    }else if(chartName === "barChart"){
                        window.location.href = '/admin/barChart';
                    }
                }
             </script>
                 <script>
                    $("#sidebar-toggle").click(function() {
                        $("#sidebar").toggle();
                    });
                </script>
                
</body>
</html>